# OnboardPro Frontend

## Описание

Фронтенд-часть приложения OnboardPro, разработанная с использованием React, TypeScript и Vite.

## Требования

- Node.js 18.x или выше
- npm 9.x или выше
- Docker и docker-compose (для запуска в контейнере)

## Установка и запуск

### Локальная разработка

1. Установите зависимости:

   ```bash
   npm install
   ```

2. Запустите сервер разработки:

   ```bash
   npm run dev
   ```

3. Откройте [http://localhost:5173](http://localhost:5173) в браузере.

### Запуск в Docker

1. Из корневой директории проекта запустите:

   ```bash
   docker-compose up -d frontend
   ```

2. Приложение будет доступно по адресу [http://localhost:5173](http://localhost:5173).

## Проверка зависимостей

В проекте реализованы инструменты для автоматической проверки и управления зависимостями. Эти инструменты помогают поддерживать проект в актуальном состоянии и предотвращать проблемы, связанные с устаревшими или уязвимыми пакетами.

### Доступные инструменты

1. **check-dependencies.sh** - скрипт для расширенной проверки зависимостей:

   - Поиск неиспользуемых зависимостей
   - Проверка дубликатов
   - Анализ уязвимостей
   - Анализ размера зависимостей
   - Проверка совместимости

2. **Автоматическая проверка при запуске** - встроена в `start-vite.sh`:

   - Проверка критических уязвимостей
   - Проверка устаревших зависимостей
   - Автоматическая установка отсутствующих зависимостей

3. **update_frontend_dependencies.sh** - скрипт в корне проекта для обновления зависимостей:
   - Проверка наличия пакетов MUI
   - Проверка критических уязвимостей
   - Интерактивное обновление устаревших зависимостей

### Переменные окружения для управления проверками

В `docker-compose.yml` настроены следующие переменные окружения:

- `CHECK_DEPENDENCIES=true` - включает расширенную проверку зависимостей при запуске
- `AUTO_FIX_VULNERABILITIES=false` - автоматическое исправление уязвимостей (по умолчанию выключено)
- `AUTO_UPDATE_DEPENDENCIES=false` - автоматическое обновление зависимостей (по умолчанию выключено)

### Локальная проверка

Запустите скрипт проверки зависимостей:

```bash
./check-dependencies.sh
```

### Проверка в контейнере

```bash
# Запуск расширенной проверки зависимостей
docker-compose exec frontend bash -c "cd /app/frontend && ./check-dependencies.sh"

# Обновление зависимостей из корня проекта
./update_frontend_dependencies.sh
```

### Дополнительные команды

```bash
# Проверка устаревших зависимостей
npm outdated

# Проверка уязвимостей
npm audit

# Исправление уязвимостей
npm audit fix

# Обновление зависимостей
npm update
```

### Рекомендации по управлению зависимостями

1. **Регулярно запускайте проверку зависимостей** для выявления потенциальных проблем
2. **Обновляйте зависимости постепенно**, особенно при мажорных обновлениях
3. **Тестируйте приложение после обновления** зависимостей
4. **Используйте `--legacy-peer-deps`** при возникновении конфликтов зависимостей
5. **Удаляйте неиспользуемые зависимости** для уменьшения размера сборки

Скрипт `check-dependencies.sh` выполнит:

1. Проверку неиспользуемых зависимостей с помощью `depcheck`
2. Проверку дубликатов зависимостей с помощью `npm-check`
3. Аудит безопасности зависимостей с помощью `npm audit`
4. Анализ размера зависимостей и определение самых больших пакетов
5. Проверку совместимости зависимостей и peer dependencies

## Структура проекта

- `src/` - исходный код приложения
  - `api/` - API-клиенты и сервисы
  - `components/` - React-компоненты
  - `context/` - React-контексты
  - `hooks/` - пользовательские хуки
  - `pages/` - компоненты страниц
  - `services/` - сервисы приложения
  - `store/` - управление состоянием
  - `types/` - TypeScript типы и интерфейсы
  - `utils/` - утилиты и вспомогательные функции

## Скрипты

- `npm run dev` - запуск сервера разработки
- `npm run build` - сборка для продакшена
- `npm run lint` - проверка кода с помощью ESLint
- `npm run preview` - предпросмотр сборки
- `npm run test` - запуск тестов

## Зависимости

Основные зависимости проекта:

- React 18.x
- TypeScript
- Vite
- Material UI 5.x
- Chakra UI
- React Router
- Axios
- Zustand
