# Архитектура Frontend OnboardPro

## Общая структура

Frontend-часть OnboardPro построена как современное SPA (Single Page Application) на базе React с TypeScript и использует следующие ключевые технологии:

- **React 18+** - библиотека для построения пользовательских интерфейсов
- **TypeScript** - типизированный JavaScript, улучшающий разработку
- **Vite** - быстрый инструмент сборки
- **Chakra UI** - библиотека компонентов для быстрого создания доступных интерфейсов
- **React Router v6+** - маршрутизация в приложении
- **Zustand** - легковесный менеджер состояния
- **Axios** - HTTP-клиент для взаимодействия с API
- **React Hot Toast** - уведомления в интерфейсе

## Структура папок

```
frontend/
├── src/
│   ├── components/     # Переиспользуемые UI-элементы
│   ├── pages/          # Страницы: Login, Dashboard и т.д.
│   ├── api/            # Axios instance + API-сервисы
│   ├── context/        # Контексты авторизации и пользователя
│   └── store/          # Zustand-хранилище
```

## Основные компоненты архитектуры

### 1. API-интеграция

- `api/client.ts` - настроенный экземпляр Axios для взаимодействия с бэкендом:
  - Базовый URL: `http://backend:8000/api/`
  - Автоматическое добавление JWT-токена из localStorage
  - Обработка ошибок 401 и 500 с уведомлениями

### 2. Управление состоянием

В приложении используется два подхода к управлению состоянием:

- **React Context** (`context/AuthContext.tsx`) - управление контекстом аутентификации
- **Zustand** (`store/authStore.ts`) - глобальное хранилище состояния для более сложных сценариев

### 3. Маршрутизация

Базовые маршруты:

- `/login` - страница входа в систему
- `/dashboard` - главная панель управления
- `/` - перенаправление на /login

### 4. UI-компоненты

Используется Chakra UI с кастомной темой, определенной в `App.tsx`.

## Интеграция с бэкендом

Общение с бэкендом осуществляется через:

1. API endpoints, доступные через Axios
2. JWT-аутентификацию, где токен хранится в localStorage
3. В Docker-среде frontend и backend связаны в одной сети

## Docker-интеграция

- **Dockerfile.frontend** - многоэтапный процесс сборки (build -> nginx)
- **docker-compose.yml** - конфигурация для запуска frontend вместе с backend и db
- **nginx/default.conf** - настройка обратного прокси с поддержкой SPA

## Принципы разработки

1. **Компонентный подход** - разделение UI на независимые, переиспользуемые компоненты
2. **Типизация** - все компоненты и функции типизированы с помощью TypeScript
3. **Разделение ответственности** - четкое разделение бизнес-логики, представления и взаимодействия с API
