# AI Copilot (Solomia)

Интеллектуальный ассистент, который помогает сотрудникам проходить этапы онбординга, предоставляя контекстно-зависимые подсказки на основании описания текущего шага и предыдущего фидбэка.

## Архитектура

### Модели

```python
class AIHint(models.Model):
    assignment_step = FK → UserStepProgress
    generated_hint = TextField
    created_at = DateTimeField(auto_now_add=True)
```

### Сервисы

```python
class SolomiaService:
    @classmethod
    def generate_hint_for_step(cls, user_step_id: int) -> str:
        # Собирает контекст и генерирует подсказку

    @classmethod
    def get_latest_hint(cls, user_step_id: int) -> str:
        # Возвращает последнюю созданную подсказку
```

## API Endpoints

### Получение подсказки

- **URL:** `/api/ai/step/{id}/hint/`
- **Метод:** `GET`
- **Описание:** Получает существующую подсказку для шага онбординга
- **Параметры URL:**
  - `id` - ID шага пользователя (UserStepProgress)
- **Ответ:**
  - `200 OK` - Возвращает текст подсказки
  - `404 Not Found` - Подсказка не найдена или шаг не существует

### Генерация подсказки

- **URL:** `/api/ai/step/{id}/hint/`
- **Метод:** `POST`
- **Описание:** Генерирует новую подсказку для шага онбординга
- **Параметры URL:**
  - `id` - ID шага пользователя (UserStepProgress)
- **Ответ:**
  - `201 Created` - Возвращает сгенерированную подсказку
  - `404 Not Found` - Шаг не найден

## Алгоритм генерации подсказок

1. Получение описания текущего шага
2. Сбор фидбэка сотрудника по предыдущим шагам
3. Формирование текстового prompt и отправка в AI endpoint
   - В текущей версии используется заглушка
   - В будущем будет использоваться реальный AI API
4. Сохранение результата в базе данных

## Текущие ограничения

- Используется заглушка вместо реального AI API
- Подсказки генерируются на основании простых правил в зависимости от типа шага
- В будущем будут учитываться дополнительные факторы: роль пользователя, сложность шага, статистика прохождения и т.д.

## Дальнейшее развитие

- Интеграция с реальным AI API
- Улучшение контекстного понимания и персонализации подсказок
- Добавление возможности обратной связи о качестве подсказок
- Система самообучения на основе эффективности предоставленных подсказок
