# Модели онбординга в OnboardPro

## Обзор

Модуль онбординга предоставляет функциональность для создания, управления и отслеживания программ онбординга для новых сотрудников. Система позволяет создавать программы с различными шагами и назначать их пользователям, а также отслеживать прогресс выполнения.

## Модели данных

### OnboardingProgram

Основная модель, представляющая программу онбординга.

**Поля:**

- `name` (CharField): Название программы
- `description` (TextField): Описание программы (опционально)
- `created_at` (DateTimeField): Дата и время создания
- `author` (ForeignKey → User): Создатель программы

### OnboardingStep

Модель, представляющая отдельный шаг в программе онбординга.

**Поля:**

- `name` (CharField): Название шага
- `description` (TextField): Описание шага (опционально)
- `step_type` (CharField): Тип шага (задача, встреча, обучение)
- `order` (PositiveIntegerField): Порядковый номер шага в программе
- `program` (ForeignKey → OnboardingProgram): Программа, к которой относится шаг
- `is_required` (BooleanField): Флаг, указывающий, является ли шаг обязательным
- `deadline_days` (PositiveIntegerField): Количество дней на выполнение после назначения (опционально)

### UserOnboardingAssignment

Модель, представляющая назначение программы онбординга пользователю.

**Поля:**

- `user` (ForeignKey → User): Пользователь, которому назначена программа
- `program` (ForeignKey → OnboardingProgram): Назначенная программа
- `assigned_at` (DateTimeField): Дата и время назначения
- `status` (CharField): Статус назначения (активно, завершено)

### UserStepProgress

Модель, отслеживающая прогресс пользователя по каждому шагу онбординга.

**Поля:**

- `user` (ForeignKey → User): Пользователь
- `step` (ForeignKey → OnboardingStep): Шаг онбординга
- `status` (CharField): Статус прогресса (не начато, в процессе, выполнено)
- `completed_at` (DateTimeField): Дата и время завершения (опционально)

## Отношения между моделями

1. **OnboardingProgram → OnboardingStep**: Программа содержит множество шагов (один-ко-многим).
2. **OnboardingProgram → UserOnboardingAssignment**: Программа может быть назначена многим пользователям (один-ко-многим).
3. **User → UserOnboardingAssignment**: Пользователь может иметь назначения на множество программ (один-ко-многим).
4. **OnboardingStep → UserStepProgress**: Прогресс по шагу отслеживается для каждого пользователя (один-ко-многим).
5. **User → UserStepProgress**: Пользователь имеет отдельный прогресс для каждого шага (один-ко-многим).

## Уникальные ограничения

1. В рамках одной программы шаги должны иметь уникальные порядковые номера (`program`, `order`).
2. Пользователь может иметь только одно активное назначение на конкретную программу (`user`, `program`).
3. Для каждого шага у пользователя может быть только одна запись о прогрессе (`user`, `step`).

## Методы

### UserStepProgress.mark_as_done()

Отмечает шаг как выполненный и устанавливает текущую дату и время в поле `completed_at`.
